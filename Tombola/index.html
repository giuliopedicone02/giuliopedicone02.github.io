<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Tombola Online</title>

    <style>
        .icon {
            width: 150px;
            display: block;
            margin: 0 auto;
        }

        .center {
            margin-left: auto;
            margin-right: auto;
        }

        td {
            font-size: 200%;
            font-weight: bold;
        }
    </style>

    <script type="text/javascript">

        window.onbeforeunload = function (e) {
            e = e || window.event;

            // For IE and Firefox prior to version 4
            if (e) {
                e.returnValue = 'Sure?';
            }

            // For Safari
            return 'Sure?';
        };

        var numero = [];


        function verificaNumero(num) {
            for (i = 0; i < numero.push(); i++) {
                if (num == numero[i]) {
                    return false;
                }
            }
            return true;
        }

        function generaNumero() {

            if (numero.push() >= 89) {

                document.getElementById('genera').disabled = true;

            }

            var n = 0;

            do {
                n = Math.round(Math.random() * 89 + 1);

            } while (!verificaNumero(n))


            numero.push(n);

            var audio = "audio/" + n + ".mp3";

            var sintesiVocale = new Audio(audio);
            sintesiVocale.play();

            el = "el" + n;

            document.getElementById(el).classList.remove("bg-standard");
            document.getElementById(el).classList.add("bg-danger");
            document.getElementById(el).classList.add("text-white");


            document.getElementById("numero").innerHTML = numero;

            document.getElementById('ultimoNumero').innerHTML = numero[numero.push() - 1];

            if (numero.push() == 1) {
                document.getElementById('numeroPrecedente').innerHTML = numero[numero.push() - 1];
            }
            else {
                document.getElementById('numeroPrecedente').innerHTML = numero[numero.push() - 2];
            }


        }

        function reset() {
            if (confirm("Sei sicuro? Perderai tutti i numeri estratti finora!")) {
                numero = [];
                document.getElementById('numero').innerHTML = '';
                document.getElementById('ultimoNumero').innerHTML = '';
                document.getElementById('numeroPrecedente').innerHTML = '';
                document.getElementById('genera').disabled = false;

                for (c = 1; c <= 90; c++) {
                    el = "el" + c;
                    document.getElementById(el).classList.remove("bg-danger");
                    document.getElementById(el).classList.remove("text-white");
                    document.getElementById(el).classList.add("bg-standard");
                }
            }
        }
    </script>
</head>

<body onload="document.getElementById('genera').focus();">

    <p class="h1 text-center pt-5 pb-5 bg-danger text-white">Tombola Online</p>

    <div class="estrazioni col-9 pt-5 center text-center">
        <table class="table align-middle">
            <thead>
                <th class="h3">Numero Estratto</th>
                <th class="h3">Numero Precedente</th>
            </thead>
            <tbody>
                <td>
                    <p class="h2 text-success" id="ultimoNumero"></p>
                </td>
                <td>
                    <p class="h4 text-muted" id="numeroPrecedente"></p>
                </td>
            </tbody>

        </table>
    </div>

    <img src="presents.png" class="icon img-fluid pt-2">

    <div class="tabellone col-9 pt-5 center text-center">
        <table class="table">
            <thead>
                <tr>
                    <th class="h1" colspan=11>Tabellone</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="table-standard" id="el1">1</td>
                    <td class="table-standard" id="el2">2</td>
                    <td class="table-standard" id="el3">3</td>
                    <td class="table-standard" id="el4">4</td>
                    <td class="table-standard" id="el5">5</td>
                    <td></td>
                    <td class="table-standard" id="el6">6</td>
                    <td class="table-standard" id="el7">7</td>
                    <td class="table-standard" id="el8">8</td>
                    <td class="table-standard" id="el9">9</td>
                    <td class="table-standard" id="el10">10</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el11">11</td>
                    <td class="table-standard" id="el12">12</td>
                    <td class="table-standard" id="el13">13</td>
                    <td class="table-standard" id="el14">14</td>
                    <td class="table-standard" id="el15">15</td>
                    <td></td>
                    <td class="table-standard" id="el16">16</td>
                    <td class="table-standard" id="el17">17</td>
                    <td class="table-standard" id="el18">18</td>
                    <td class="table-standard" id="el19">19</td>
                    <td class="table-standard" id="el20">20</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el21">21</td>
                    <td class="table-standard" id="el22">22</td>
                    <td class="table-standard" id="el23">23</td>
                    <td class="table-standard" id="el24">24</td>
                    <td class="table-standard" id="el25">25</td>
                    <td></td>
                    <td class="table-standard" id="el26">26</td>
                    <td class="table-standard" id="el27">27</td>
                    <td class="table-standard" id="el28">28</td>
                    <td class="table-standard" id="el29">29</td>
                    <td class="table-standard" id="el30">30</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-standard" id="el31">31</td>
                    <td class="table-standard" id="el32">32</td>
                    <td class="table-standard" id="el33">33</td>
                    <td class="table-standard" id="el34">34</td>
                    <td class="table-standard" id="el35">35</td>
                    <td></td>
                    <td class="table-standard" id="el36">36</td>
                    <td class="table-standard" id="el37">37</td>
                    <td class="table-standard" id="el38">38</td>
                    <td class="table-standard" id="el39">39</td>
                    <td class="table-standard" id="el40">40</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el41">41</td>
                    <td class="table-standard" id="el42">42</td>
                    <td class="table-standard" id="el43">43</td>
                    <td class="table-standard" id="el44">44</td>
                    <td class="table-standard" id="el45">45</td>
                    <td></td>
                    <td class="table-standard" id="el46">46</td>
                    <td class="table-standard" id="el47">47</td>
                    <td class="table-standard" id="el48">48</td>
                    <td class="table-standard" id="el49">49</td>
                    <td class="table-standard" id="el50">50</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el51">51</td>
                    <td class="table-standard" id="el52">52</td>
                    <td class="table-standard" id="el53">53</td>
                    <td class="table-standard" id="el54">54</td>
                    <td class="table-standard" id="el55">55</td>
                    <td></td>
                    <td class="table-standard" id="el56">56</td>
                    <td class="table-standard" id="el57">57</td>
                    <td class="table-standard" id="el58">58</td>
                    <td class="table-standard" id="el59">59</td>
                    <td class="table-standard" id="el60">60</td>
                </tr>

                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td class="table-standard" id="el61">61</td>
                    <td class="table-standard" id="el62">62</td>
                    <td class="table-standard" id="el63">63</td>
                    <td class="table-standard" id="el64">64</td>
                    <td class="table-standard" id="el65">65</td>
                    <td></td>
                    <td class="table-standard" id="el66">66</td>
                    <td class="table-standard" id="el67">67</td>
                    <td class="table-standard" id="el68">68</td>
                    <td class="table-standard" id="el69">69</td>
                    <td class="table-standard" id="el70">70</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el71">71</td>
                    <td class="table-standard" id="el72">72</td>
                    <td class="table-standard" id="el73">73</td>
                    <td class="table-standard" id="el74">74</td>
                    <td class="table-standard" id="el75">75</td>
                    <td></td>
                    <td class="table-standard" id="el76">76</td>
                    <td class="table-standard" id="el77">77</td>
                    <td class="table-standard" id="el78">78</td>
                    <td class="table-standard" id="el79">79</td>
                    <td class="table-standard" id="el80">80</td>
                </tr>
                <tr>
                    <td class="table-standard" id="el81">81</td>
                    <td class="table-standard" id="el82">82</td>
                    <td class="table-standard" id="el83">83</td>
                    <td class="table-standard" id="el84">84</td>
                    <td class="table-standard" id="el85">85</td>
                    <td></td>
                    <td class="table-standard" id="el86">86</td>
                    <td class="table-standard" id="el87">87</td>
                    <td class="table-standard" id="el88">88</td>
                    <td class="table-standard" id="el89">89</td>
                    <td class="table-standard" id="el90">90</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="control-center text-center pt-5">
        <input type="button" id='genera' onclick="generaNumero()" value="Genera Numero"
            class="btn-primary btn-lg pb-10">
        <br /><br />
        <input type="button" onclick="reset()" value="Reset" class="btn-danger">
    </div>

    <div hidden>
        <p class="h1 pt-5 pb-3">Numeri Estratti:</p>
        <p class="h3" id="numero"></p>
    </div>


</body>

</html>